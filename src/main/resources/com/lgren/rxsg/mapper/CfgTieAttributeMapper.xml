<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lgren.rxsg.mapper.CfgTieAttributeMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.lgren.rxsg.entity.CfgTieAttribute">
        <id column="attid" property="attid" />
        <result column="tieid" property="tieid" />
        <result column="value" property="value" />
        <result column="precond" property="precond" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        a.attid, a.tieid, a.value, a.precond
    </sql>
  <select id="tieAttrVOList" resultType="com.lgren.rxsg.entity.vo.TieAttrVO">
    select
    <include refid="Base_Column_List"/>
    , ca.name as attName
    , ct.name as tieName
    from cfg_tie_attribute a
    left join cfg_attribute ca on ca.attid = a.attid
    left join cfg_tie ct on ct.tieid = a.tieid
    where a.tieid = #{tieid}
    order by a.precond;
  </select>

</mapper>
